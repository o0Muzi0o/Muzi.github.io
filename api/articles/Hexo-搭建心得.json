{"title":"Hexo 搭建心得","uid":"96e29021f15fb4636301efddd73821c0","slug":"Hexo-搭建心得","date":"2020-06-08T05:17:11.000Z","updated":"2022-10-26T09:58:12.502Z","comments":true,"path":"api/articles/Hexo-搭建心得.json","keywords":null,"cover":null,"content":"<h1 id=\"Hexo-搭建心得\"><a href=\"#Hexo-搭建心得\" class=\"headerlink\" title=\"Hexo 搭建心得\"></a><center>Hexo 搭建心得</center></h1><p>脱了很久下定决心搞个博客了</p>\n<p>2022年10月26日</p>\n<h2 id=\"准备\"><a href=\"#准备\" class=\"headerlink\" title=\"准备\"></a>准备</h2><p>· Node.js<br>· Cmder<br>· Git (实际上没有用到)</p>\n<h2 id=\"本地环境搭建\"><a href=\"#本地环境搭建\" class=\"headerlink\" title=\"本地环境搭建\"></a>本地环境搭建</h2><p>下载 Node.js 和 Cmder 。</p>\n<p>使用 Cmder 来安装 Hexo 。( cmd 也可以，本来是用 PowerShell 的，不过因为下载速度的卡住，给了我一种不能用的错觉)<br>cd</p>\n<h2 id=\"设置代理\"><a href=\"#设置代理\" class=\"headerlink\" title=\"设置代理\"></a>设置代理</h2><p>使用 SSR 的本地 http 代理。</p>\n<pre class=\"line-numbers language-none\"><code class=\"language-none\">npm config set proxy http:&#x2F;&#x2F;127.0.0.1:1080\nnpm config set https-proxy http:&#x2F;&#x2F;127.0.0.1:1080</code></pre>\n\n<h2 id=\"安装-Hexo\"><a href=\"#安装-Hexo\" class=\"headerlink\" title=\"安装 Hexo\"></a>安装 Hexo</h2><pre class=\"line-numbers language-none\"><code class=\"language-none\">D:\nnpm install hexo-cli -g\nhexo init blog\ncd blog\nnpm install\nhexo s</code></pre>\n\n<p>以上命令的意思是：</p>\n<pre><code>1. 跳转到 D 盘\n2. 使用 npm 安装 Hexo ( -g 是全局安装)\n3. 使用 Hexo 初始化一个名为 blog 的项目\n4. 跳转到生成出的 blog 文件夹里\n5. hexo 启动服务器\n</code></pre>\n<p>不用先建立 bolg 文件然后进入里面安装，不然会多一个 blog 文件夹，禁止套娃。</p>\n<p>然后就可以进 <a href=\"http://localhost:4000/\">http://localhost:4000/</a> 看效果了。</p>\n<h2 id=\"安装主题\"><a href=\"#安装主题\" class=\"headerlink\" title=\"安装主题\"></a>安装主题</h2><p>我用是 <a href=\"https://github.com/blinkfox/hexo-theme-matery/releases\">hexo-theme-matery</a> 第一看我就爱上了，本来是喜欢 WP 的知更鸟的。估计是看的博客满满的ACG图片吸引了我吧。</p>\n<p>下载最新版本并解压到 blog 目录下的 themes 文件夹内。具体安装看<a href=\"https://github.com/blinkfox/hexo-theme-matery/blob/develop/README_CN.md\">介绍</a></p>\n<h2 id=\"安装主题第二版\"><a href=\"#安装主题第二版\" class=\"headerlink\" title=\"安装主题第二版\"></a>安装主题第二版</h2><p>考虑过<a href=\"https://butterfly.js.org/\">Butterfly</a>，最终选了<a href=\"https://aurora.tridiamond.tech/zh/\">Aurora</a><br><a href=\"https://www.bilibili.com/video/av682147396?p=3\">安装教程</a></p>\n<h2 id=\"写文章\"><a href=\"#写文章\" class=\"headerlink\" title=\"写文章\"></a>写文章</h2><p>使用 hexo 命令创建新文章（本质上是一个含有 yml 关于文章简介的 markdown 文件）</p>\n<pre class=\"line-numbers language-none\"><code class=\"language-none\">hexo new &quot;Hexo 搭建心得&quot;</code></pre>\n\n<p>文件在 blog\\source_posts 目录下。</p>\n<h2 id=\"卸载Hxeo\"><a href=\"#卸载Hxeo\" class=\"headerlink\" title=\"卸载Hxeo\"></a>卸载Hxeo</h2><pre class=\"line-numbers language-none\"><code class=\"language-none\">npm uninstall hexo</code></pre>\n\n<h2 id=\"设置图床\"><a href=\"#设置图床\" class=\"headerlink\" title=\"设置图床\"></a>设置图床</h2><details class=\"custom-details\">\n<summary>失败又大概成功了方案京东云对象图床，之最后还是失败了</summary>\n<p>因为京东云对象存储可以白嫖，所以搞了个，<a href=\"https://blog.csdn.net/w20101310/article/details/125874416\">参考教程</a></p>\n<p>首先安装<a href=\"https://www.npmjs.com/package/file-uploader-cli\">file-uploader-cli</a></p>\n<pre class=\"line-numbers language-none\"><code class=\"language-none\">npm install file-uploader-cli --save</code></pre>\n\n<p>搞了半天无法安装，然后看 hexo-asset-img 的时候发现安装参数不一样又试了下</p>\n<p>然后配置文件搞不定，就这样吧，放弃了</p>\n\n</details>\n<details class=\"custom-details\">\n<summary>备选方案：本地图片上传 hexo-asset-img</summary>\n<p><p>备选方案：本地图片上传，<a href=\"https://github.com/yiyungent/hexo-asset-img\">参考教程</a></p>\n<p>首先安装<a href=\"https://github.com/yiyungent/hexo-asset-img\">hexo-asset-img</a></p>\n<pre class=\"line-numbers language-none\"><code class=\"language-none\">npm install hexo-asset-img --save</code></pre>\n\n<p>将根目录的_config.yml中的post_asset_folder: 改为 true 搞定</p>\n</p>\n</details>\n<h2 id=\"问题\"><a href=\"#问题\" class=\"headerlink\" title=\"问题\"></a>问题</h2><ol>\n<li><p>无法访问连接 github.com 导致安装失败<br> ping github.com 发现连接超时<br> 解决方法一：使用Gitee（码云）来替代Github，将文件：</p>\n <pre class=\"line-numbers language-none\"><code class=\"language-none\">C:\\Users\\Jupiter\\AppData\\Roaming\\npm\\node_modules\\hexo-cli\\lib\\console\\init.js</code></pre>\n<p> 中的</p>\n <pre class=\"line-numbers language-none\"><code class=\"language-none\">const GIT_REPO_URL &#x3D; &#39;https:&#x2F;&#x2F;github.com&#x2F;hexojs&#x2F;hexo-starter.git&#39;;\n</code></pre>\n\n<p> 改为：</p>\n <pre class=\"line-numbers language-none\"><code class=\"language-none\">const GIT_REPO_URL &#x3D; &#39;https:&#x2F;&#x2F;gitee.com&#x2F;hexojs&#x2F;hexo-starter.git&#39;;</code></pre>\n\n<p> 就可以了，亲测有效。</p>\n<p> 解决方法二：访问这个<a href=\"https://ipaddress.com/website/github.com\">网站</a></p>\n<p> 将其中的ip地址复制到hosts，可用命令打开hosts</p>\n <pre class=\"line-numbers language-none\"><code class=\"language-none\">start notepad.exe C:\\Windows\\System32\\drivers\\etc\\hosts</code></pre>\n\n<p> 然后加入</p>\n <pre class=\"line-numbers language-none\"><code class=\"language-none\">140.82.113.4 github.com</code></pre>\n<p> 搞定</p>\n<p> 解决方法三：</p>\n<p> 直接到<a href=\"https://github.com/hexojs/hexo-starter%E4%B8%8B%E8%BD%BDblog%E6%96%87%E4%BB%B6%EF%BC%8C%E6%94%BE%E5%88%B0%E6%9C%AC%E5%9C%B0%E7%9B%AE%E5%BD%95\">https://github.com/hexojs/hexo-starter下载blog文件，放到本地目录</a></p>\n<p> 解决方法四：更换npm源，方法百度</p>\n</li>\n</ol>\n<details class=\"custom-details\">\n<summary>2. PowerShell 无法执行脚本</summary>\n<p>    解决方法：打开PowerShell 然后输入 get-executionpolicy<br>    以管理员身份打开PowerShell 输入 set-executionpolicy remotesigned<br>    选择Y 就搞定了</p>\n</details>\n<details class=\"custom-details\">\n<summary>3.PowsrShell 右键文件夹“找不到应用程序”</summary>\n<p>在注册表中发现打开powershell的命令中路径不对，虽然不知道是为什么变得不对了。</p>\n<p>修改方法如下：</p>\n<p>1、打开注册表：按住win + R，输入regedit；</p>\n<p>2、找到：计算机\\HKEY_CLASSES_ROOT\\Directory\\Background\\shell\\Powershell\\command；</p>\n<p>3、双击右侧的“（默认）”，将值改为：C:\\Windows\\system32\\WindowsPowerShell\\v1.0\\powershell.exe -noexit -command Set-Location -literalPath ‘%V’，注意前面的路径是powershell.exe的所在路径，可能因人而异；</p>\n<p>4、修改后即可正常打开powershell。</p>\n<p>注意：如果无法修改3、中的值，需要先右键command文件夹，点击权限，点击高级。如果新窗口中上方显示你的所有者为TrustedInstaller，那么首先点击上方“更改”，将当前你的用户账户名添加进去，例如，然后点击后方“检查名称”，没有问题则不会报错，然后点击“确定”。完成后将回到上一界面，点击administrator那一栏，勾选下方的当前用户的权限为“完全控制”即可。这样就可以正常修改注册表键值了。</p>\n</details>\n<details class=\"custom-details\">\n<summary>4.博客图片上传</summary>\n<p><a href=\"https://blog.csdn.net/w20101310/article/details/125874416\">方法一</a><br><a href=\"https://github.com/yiyungent/hexo-asset-img\">方法二</a></p>\n</details>\n","text":"Hexo 搭建心得脱了很久下定决心搞个博客了 2022年10月26日 准备· Node.js· Cmder· Git (实际上没有用到) 本地环境搭建下载 Node.js 和 Cmder 。 使用 Cmder 来安装 Hexo 。( cmd 也可以，本来是用 PowerShell...","link":"","photos":[],"count_time":{"symbolsCount":"2.5k","symbolsTime":"2 mins."},"categories":[],"tags":[{"name":"Hexo","slug":"Hexo","count":2,"path":"api/tags/Hexo.json"}],"toc":"<ol class=\"toc\"><li class=\"toc-item toc-level-1\"><a class=\"toc-link\" href=\"#Hexo-%E6%90%AD%E5%BB%BA%E5%BF%83%E5%BE%97\"><span class=\"toc-text\">Hexo 搭建心得</span></a><ol class=\"toc-child\"><li class=\"toc-item toc-level-2\"><a class=\"toc-link\" href=\"#%E5%87%86%E5%A4%87\"><span class=\"toc-text\">准备</span></a></li><li class=\"toc-item toc-level-2\"><a class=\"toc-link\" href=\"#%E6%9C%AC%E5%9C%B0%E7%8E%AF%E5%A2%83%E6%90%AD%E5%BB%BA\"><span class=\"toc-text\">本地环境搭建</span></a></li><li class=\"toc-item toc-level-2\"><a class=\"toc-link\" href=\"#%E8%AE%BE%E7%BD%AE%E4%BB%A3%E7%90%86\"><span class=\"toc-text\">设置代理</span></a></li><li class=\"toc-item toc-level-2\"><a class=\"toc-link\" href=\"#%E5%AE%89%E8%A3%85-Hexo\"><span class=\"toc-text\">安装 Hexo</span></a></li><li class=\"toc-item toc-level-2\"><a class=\"toc-link\" href=\"#%E5%AE%89%E8%A3%85%E4%B8%BB%E9%A2%98\"><span class=\"toc-text\">安装主题</span></a></li><li class=\"toc-item toc-level-2\"><a class=\"toc-link\" href=\"#%E5%AE%89%E8%A3%85%E4%B8%BB%E9%A2%98%E7%AC%AC%E4%BA%8C%E7%89%88\"><span class=\"toc-text\">安装主题第二版</span></a></li><li class=\"toc-item toc-level-2\"><a class=\"toc-link\" href=\"#%E5%86%99%E6%96%87%E7%AB%A0\"><span class=\"toc-text\">写文章</span></a></li><li class=\"toc-item toc-level-2\"><a class=\"toc-link\" href=\"#%E5%8D%B8%E8%BD%BDHxeo\"><span class=\"toc-text\">卸载Hxeo</span></a></li><li class=\"toc-item toc-level-2\"><a class=\"toc-link\" href=\"#%E8%AE%BE%E7%BD%AE%E5%9B%BE%E5%BA%8A\"><span class=\"toc-text\">设置图床</span></a></li><li class=\"toc-item toc-level-2\"><a class=\"toc-link\" href=\"#%E9%97%AE%E9%A2%98\"><span class=\"toc-text\">问题</span></a></li></ol></li></ol>","author":{"name":"Muzi","slug":"blog-author","avatar":"/images/avatar.png","link":"/","description":"记录点滴生活","socials":{"github":"","twitter":"","stackoverflow":"","wechat":"","qq":"","weibo":"","zhihu":"","csdn":"","juejin":"","customs":{}}},"mapped":true,"prev_post":{"title":"Hello World","uid":"b9663f58f18133b35bfe243f3e916a80","slug":"hello-world","date":"2022-10-25T23:19:28.280Z","updated":"2022-10-18T03:43:51.000Z","comments":true,"path":"api/articles/hello-world.json","keywords":null,"cover":null,"text":"Welcome to Hexo! This is your very first post. Check documentation for more info. If you get any problems when using Hexo, you can find the ...","link":"","photos":[],"count_time":{"symbolsCount":440,"symbolsTime":"1 mins."},"categories":[],"tags":[],"author":{"name":"Muzi","slug":"blog-author","avatar":"/images/avatar.png","link":"/","description":"记录点滴生活","socials":{"github":"","twitter":"","stackoverflow":"","wechat":"","qq":"","weibo":"","zhihu":"","csdn":"","juejin":"","customs":{}}}},"next_post":{}}